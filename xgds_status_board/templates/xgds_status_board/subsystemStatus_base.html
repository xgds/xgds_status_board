{% extends "dashboard_no_map.html" %}
{% block siteSection %}Recorder Status{% endblock %}

{% block cssExtras %}
  {{ block.super }}
  <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}xgds_status_board/css/status_board.css"></link>
{% endblock %}

{% block scripts %}
  {{ block.super }}
  <script type="text/javascript" src='{{ EXTERNAL_URL }}/handlebars/handlebars.min.js'></script>
  <script src="{{ STATIC_URL }}xgds_status_board/js/subsystemStatusWidget.js" type="text/javascript"></script>
  {% for template_name, template in templates.items %}
  	<script type="text/handlebars" id="template-{{template_name}}">
		{{template|safe}}
	</script>
  {% endfor %}
{% endblock %}


{% block content %}
	{% block preDashboard %}
	{% endblock preDashboard %}

	{% block dashboard %}
	<div id="container" class="grid-stack grid-stack-8"> 
		
		{% block inDashboard %}
		{% endblock inDashboard %}
		
	</div> <!--  gridstack container -->
	{% endblock dashboard %}
{% endblock content %}

{% block jsSetVars %}
  {{ block.super }}
  var settings = {
      'XGDS_STATUS_BOARD_SUBSYSTEM_STATUS_URL': '{{ XGDS_STATUS_BOARD_SUBSYSTEM_STATUS_URL }}',
      'dataUrl': '{{settings.DATA_URL}}'
  };
{% endblock %}

{% block jsInit %}
	$(function(){
        {% block preLayout %}
		{% endblock preLayout %}
		
		var options = {
	        cellHeight: 200,
	        verticalMargin: 20,
	        width: 8,
	        float: false
	    };
    	xgds_gridstack.initializeGridstack(options);
    	
    	{% block otherJSInit %}
		{% endblock otherJSInit %}
	});
	
{% endblock %}


